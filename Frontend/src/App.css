body {
  margin: 0;
  font-family: "Poppins", -apple-system, BlinkMacSystemFont, "Segoe UI",
    "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
    "Helvetica Neue", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #f7fdf9;
  /* Light grey background for the whole page */
  color: #333;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",
    monospace;
}

* {
  box-sizing: border-box;
}

.app-container {
  display: flex;
  height: 100vh;
  background-color: #f7fdf9;
  /* Main content area background */
}

.sidebar {
  width: 250px;
  background-color: #f7fdf9;
  /* Sidebar background */
  padding: 20px;
  display: flex;
  flex-direction: column;
  /* border-right: 1px solid #e0e0e0; */
  flex-shrink: 0;
  /* Prevent sidebar from shrinking */
}

.logo {
  font-size: 2.5em;
  font-weight: 700;
  color: #33a853;
  /* Growa logo green */
  margin-bottom: 30px;
  padding-left: 10px;
}

.nav-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
  flex-grow: 1;
}

.nav-menu li {
  padding: 12px 15px;
  margin-bottom: 10px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  font-weight: 500;
  color: #555;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.nav-menu li .icon {
  margin-right: 12px;
  font-size: 1.2em;
}

.nav-menu li:hover {
  background-color: #f0f0f0;
}

.nav-menu li.active {
  background-color: #e0f2e9;
  /* Light green for active item */
  color: #33a853;
  /* Green text for active item */
}

.language-selector {
  margin-top: auto;
  /* Pushes to the bottom */
  padding: 10px 15px;
  font-size: 0.9em;
  color: #555;
  display: flex;
  align-items: center;
  cursor: pointer;
}

.language-selector .icon {
  margin-right: 8px;
  font-size: 1.2em;
}

.main-content-area {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  /* Allows content within to scroll if it exceeds viewport height */
  height: 100vh;
  /* Ensure it takes full viewport height */
}

.header {
  display: flex;
  justify-content: flex-end;
  /* Aligns items to the right */
  align-items: center;
  padding: 0 30px;
  /* Adjusted padding for height */
  background-color: #f7fdf9;
  /* border-bottom: 1px solid #e0e0e0; */
  height: 70px;
  /* Fixed height for header */
  flex-shrink: 0;
  /* Prevent header from shrinking */
}

.header-icons {
  display: flex;
  align-items: center;
}

.header-icons .icon {
  font-size: 1.5em;
  margin-left: 25px;
  color: #555;
  cursor: pointer;
}

.header-icons .icon:hover {
  color: #33a853;
}

.profile-icon {
  width: 36px;
  height: 36px;
  background-color: #ccc;
  /* Placeholder color */
  border-radius: 50%;
  margin-left: 25px;
  cursor: pointer;
  background-image: url("https://randomuser.me/api/portraits/men/32.jpg");
  /* Placeholder image */
  background-size: cover;
}

.dashboard {
  padding: 25px;
  flex-grow: 1;
  overflow-y: auto;
  /* Allow dashboard itself to scroll if content is too long */
}

.dashboard-grid {
  display: grid;
  gap: 20px;
  grid-template-columns: 1fr 1fr;
  /* Two columns */
  grid-template-rows: auto auto;
  /* Two rows, auto height */
}

/* Card base styles */
.card {
  background-color: #ffffff;
  border-radius: 12px;
  padding: 20px;
  box-shadow: none;
  display: flex;
  flex-direction: column;
  position: relative;
  /* For absolute positioning of arrow */
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.card-title {
  font-size: 1.1em;
  font-weight: 600;
  color: #333;
}

.card-arrow {
  font-size: 1.5em;
  color: #888;
  cursor: pointer;
}

.card-arrow:hover {
  color: #33a853;
}

.yield-progress-card .card-header {
  cursor: pointer;
}

.yield-progress-card .crop-selector {
  font-size: 0.95em;
  color: #555;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  cursor: pointer;
}

.yield-progress-card .crop-selector .icon {
  margin-right: 8px;
  color: #33a853;
}

.yield-progress-card .status-text {
  font-size: 2.2em;
  font-weight: 600;
  color: #333;
  margin-bottom: 15px;
}

.progress-bar-container {
  width: 100%;
  height: 10px;
  background-color: #e9ecef;
  border-radius: 5px;
  overflow: hidden;
  margin-bottom: 20px;
}

.progress-bar {
  height: 100%;
  /* width is set by inline style */
  background-color: #5cb85c;
  border-radius: 5px;
  transition: width 0.5s ease-in-out;
}

/* Flexbox layout for the milestones */
.yield-milestones-container {
  display: flex;
  gap: 15px;
  justify-content: space-between;
}

.milestone-item {
  flex: 1;
  padding: 15px;
  border-radius: 8px;
  background-color: #f8f9fa;
  min-width: 120px;
}

/* Price Tracker Card */
.price-tracker-card .legend {
  display: flex;
  gap: 15px;
  font-size: 0.85em;
  margin-bottom: 15px;
  align-items: center;
}

.legend-item {
  display: flex;
  align-items: center;
}

.legend-color {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-right: 6px;
}

.graph-placeholder {
  height: 300px;
  /* increased for better chart visibility */
  margin-bottom: 15px;
  background-color: #ffffff;
  border-radius: 8px;
  padding: 10px;
  box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.05);
}

.predicted-prices-btn {
  background-color: #e9ecef;
  color: #555;
  padding: 8px 12px;
  border-radius: 20px;
  font-size: 0.85em;
  cursor: pointer;
  border: none;
  display: flex;
  align-items: center;
  align-self: flex-start;
  /* Align to left if graph takes full width */
}

.predicted-prices-btn .icon {
  margin-right: 6px;
}

/* Point of Interest Map Card */
.map-placeholder {
  height: 200px;
  background-color: #e0f2e9;
  /* Light green, similar to map in mockup */
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #33a853;
  font-weight: 500;
  margin-bottom: 15px;
  background-image: url("https://via.placeholder.com/400x200.png?text=Map+Area");
  /* Placeholder image */
  background-size: cover;
  background-position: center;
}

.outbreak-alert {
  background-color: #fdecea;
  color: #d9534f;
  padding: 10px 15px;
  border-radius: 8px;
  font-size: 0.9em;
  font-weight: 500;
  display: flex;
  align-items: center;
  position: absolute;
  /* Position over map placeholder if needed */
  bottom: 30px;
  /* Adjust as per mockup */
  left: 30px;
  box-shadow: none;
  cursor: pointer;
}

.outbreak-alert .icon {
  margin-right: 8px;
  font-size: 1.2em;
}

/* Grow Buddy AI Card (Dashboard Version) */
.grow-buddy-ai-card .ai-tag {
  background-color: #5cb85c;
  color: white;
  font-size: 0.7em;
  padding: 3px 8px;
  border-radius: 4px;
  margin-left: 8px;
  font-weight: 500;
}

.grow-buddy-ai-card .description {
  font-size: 0.9em;
  color: #666;
  margin-bottom: 15px;
  line-height: 1.5;
}

.suggestion-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 15px;
}

.chip {
  background-color: #f0f2f5;
  color: #555;
  padding: 8px 12px;
  border-radius: 16px;
  font-size: 0.85em;
  cursor: pointer;
  border: none;
}

.chip:hover {
  background-color: #e0e0e0;
}

.chat-input-area {
  display: flex;
  margin-top: auto;
  /* Pushes to bottom of card */
  border: 1px solid #ddd;
  border-radius: 20px;
  padding: 5px;
  align-items: center;
}

.chat-input-area input {
  flex-grow: 1;
  border: none;
  outline: none;
  padding: 8px 12px;
  font-size: 0.9em;
  background: transparent;
}

.chat-input-area button {
  background: none;
  border: none;
  color: #33a853;
  font-size: 1.5em;
  cursor: pointer;
  padding: 5px 10px;
}

/* Ensure dashboard cards have enough height or content to look good */
.dashboard-grid>.card {
  /* Target cards directly within the grid */
  min-height: 350px;
  /* Adjust as needed */
}

/* Special card heights if necessary */
.point-of-interest-map-card {
  grid-row: span 1;
  /* Make map card taller */
  grid-column: span 1;
  /*min-height: 450px; /* Ensure it's tall enough */
  position: relative;
  overflow: hidden;
}

/* Add location button styles */
.add-location-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  background: rgba(255, 255, 255, 0.9);
  border: none;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
  z-index: 2;
}

.add-location-btn:hover {
  background: rgba(255, 255, 255, 1);
  transform: scale(1.1);
}

.add-location-btn svg {
  color: #4CAF50;
  font-size: 16px;
}

/* Location marker styles */
.location-marker {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #ff4444;
  font-size: 24px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
  z-index: 1;
}

/* Dialog overlay styles */
.location-dialog-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
}

.location-dialog {
  background: white;
  border-radius: 12px;
  width: 100%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.dialog-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px;
  border-bottom: 1px solid #eee;
}

.dialog-header h3 {
  margin: 0;
  color: #333;
  font-size: 18px;
  font-weight: 600;
}

.close-btn {
  background: none;
  border: none;
  font-size: 18px;
  cursor: pointer;
  color: #666;
  padding: 4px;
  border-radius: 4px;
  transition: color 0.2s ease;
}

.close-btn:hover {
  color: #333;
}

.dialog-content {
  padding: 24px;
}

.location-options {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.location-option-btn {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px 20px;
  border: 2px solid #4CAF50;
  border-radius: 8px;
  background: white;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 16px;
  font-weight: 500;
}

.location-option-btn:hover:not(:disabled) {
  background: #4CAF50;
  color: white;
}

.location-option-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.location-option-btn svg {
  font-size: 18px;
}

.divider {
  text-align: center;
  color: #666;
  font-weight: 500;
  position: relative;
  margin: 10px 0;
}

.divider::before,
.divider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 40%;
  height: 1px;
  background: #ddd;
}

.divider::before {
  left: 0;
}

.divider::after {
  right: 0;
}

.manual-coords-form {
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  padding: 20px;
}

.manual-coords-form h4 {
  margin: 0 0 16px 0;
  color: #333;
  font-size: 16px;
  font-weight: 600;
}

.coord-inputs {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 20px;
}

.input-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.input-group label {
  font-weight: 500;
  color: #555;
  font-size: 14px;
}

.input-group input {
  padding: 10px 12px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 14px;
  transition: border-color 0.2s ease;
}

.input-group input:focus {
  outline: none;
  border-color: #4CAF50;
  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
}

.submit-coords-btn {
  width: 100%;
  padding: 12px 20px;
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.submit-coords-btn:hover {
  background: #45a049;
}

/* Responsive design for smaller screens */
@media (max-width: 600px) {
  .location-dialog {
    margin: 10px;
    max-width: none;
  }

  .coord-inputs {
    grid-template-columns: 1fr;
  }
}

.grow-buddy-ai-card {
  /* Dashboard card */
  grid-row: span 2;
  /* Make AI card taller */
  min-height: 450px;
}

/* Placeholder for Sections (Generic) */
.section-placeholder {
  padding: 25px;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow-y: auto;
  /* If section content is long */
}

.section-placeholder h1 {
  font-size: 2em;
  color: #333;
}

.section-placeholder p {
  font-size: 1.1em;
  color: #666;
  margin-bottom: 20px;
}

.back-button {
  padding: 10px 20px;
  background-color: #33a853;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1em;
}

.back-button:hover {
  background-color: #288c42;
}

/* GrowBuddy AI Section Specific Styles (Full Chat Page) */
.grow-buddy-ai-section-container {
  display: flex;
  flex-grow: 1;
  /* Takes up available space in main-content-area */
  height: calc(100vh - 70px);
  /* Full height minus header */
  background-color: #fff;
  /* White background for the chat area */
  overflow: hidden;
  /* Prevent scrollbars on the container itself */
}

.chat-main-panel {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  /* border-right: 1px solid #e0e0e0; No right border here, history panel has left */
  background-color: #ffffff;
  /* As per mockup main chat area bg */
  height: 100%;
  /* Ensure it fills the container height */
}

.chat-header-ai {
  padding: 15px 20px;
  border-bottom: 1px solid #e0e0e0;
  display: flex;
  align-items: center;
  font-size: 1.1em;
  font-weight: 500;
  color: #333;
  background-color: #fff;
  /* Header background */
  flex-shrink: 0;
  /* Prevent shrinking */
}

.chat-back-button {
  background: none;
  border: none;
  font-size: 1em;
  /* Match text size */
  font-family: "Poppins", sans-serif;
  /* Ensure font consistency */
  font-weight: 500;
  /* Match text weight */
  color: #333;
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 0;
}

.chat-back-button .icon {
  font-size: 1.5em;
  /* Make arrow larger */
  margin-right: 8px;
}

.chat-messages-area {
  flex-grow: 1;
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
  /* Space between bubbles */
}

.chat-bubble {
  padding: 10px 15px;
  border-radius: 18px;
  max-width: 70%;
  line-height: 1.5;
  font-size: 0.95em;
  word-wrap: break-word;
  /* Ensure long words break */
}

.chat-bubble.user {
  background-color: #f0f0f0;
  /* Grey for user as per mockup */
  color: #333;
  align-self: flex-start;
  /* User messages on the left */
  border-bottom-left-radius: 5px;
  /* To match mockup bubble shape */
}

.chat-bubble.ai {
  background-color: #e0f2e9;
  /* Light green for AI as per mockup */
  color: #333;
  align-self: flex-end;
  /* AI messages on the right */
  border-bottom-right-radius: 5px;
  /* To match mockup bubble shape */
}

.chat-input-container-ai {
  display: flex;
  padding: 15px 20px;
  border-top: 1px solid #e0e0e0;
  background-color: #fff;
  /* Input area background */
  flex-shrink: 0;
  /* Prevent shrinking */
}

.chat-input-container-ai input {
  flex-grow: 1;
  padding: 10px 15px;
  /* border: 1px solid #ddd; Remove border for cleaner look from mockup */
  border: none;
  border-radius: 20px;
  /* Keep radius if desired, or remove for full width look */
  margin-right: 10px;
  font-size: 0.95em;
  outline: none;
  background-color: #f8f9fa;
  /* Light grey background for input itself */
}

.chat-input-container-ai input:focus {
  /* border-color: #33A853; */
  /* No border to focus on */
  background-color: #f0f2f5;
  /* Slightly darker on focus */
}

.send-button-ai {
  background: none;
  border: none;
  color: #555;
  /* Default send icon color */
  font-size: 1.8em;
  cursor: pointer;
  padding: 0 5px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.send-button-ai:hover {
  color: #33a853;
  /* Green on hover */
}

/* Chat History Panel */
.chat-history-panel {
  width: 280px;
  /* Fixed width for history panel */
  padding: 20px;
  background-color: #f8f9fa;
  /* Light background for history */
  display: flex;
  flex-direction: column;
  border-left: 1px solid #e0e0e0;
  /* Separator line */
  flex-shrink: 0;
  /* Prevent shrinking */
  height: 100%;
  /* Ensure it fills the container height */
}

.chat-history-panel h4 {
  margin-top: 0;
  margin-bottom: 20px;
  font-size: 1.1em;
  color: #333;
  font-weight: 500;
}

.history-content {
  flex-grow: 1;
  overflow-y: auto;
  /* If history items become scrollable */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  /* Center "No chats" placeholder */
}

.no-chats-placeholder {
  text-align: center;
  color: #aaa;
}

.no-chats-placeholder svg {
  margin-bottom: 10px;
  opacity: 0.5;
  color: #bdc3c7;
  /* Match mockup icon color */
}

.no-chats-placeholder p {
  font-size: 0.9em;
  margin: 0;
}

.new-chat-button {
  background-color: #33a853;
  /* Green button */
  color: white;
  border: none;
  padding: 12px 15px;
  border-radius: 8px;
  font-size: 1em;
  font-weight: 500;
  cursor: pointer;
  text-align: center;
  margin-top: 20px;
  /* Space above button */
  width: 100%;
  flex-shrink: 0;
  /* Prevent shrinking */
}

.new-chat-button:hover {
  background-color: #288c42;
}

/* Diagnose Section Specific Styles */
.diagnose-section-container {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding: 25px;
  gap: 25px;
  /* Space between top panels and bottom panel */
  background-color: #f8f9fa;
  /* Match page background */
  overflow-y: auto;
  /* Enable scrolling if content overflows */
}

.diagnose-top-panels {
  display: flex;
  gap: 25px;
  /* Space between upload and details panel */
}

.diagnose-upload-panel,
.diagnose-details-panel {
  flex: 1;
  /* Each takes half of the available width */
  background-color: #ffffff;
  border-radius: 12px;
  padding: 20px;
  box-shadow: none;
  display: flex;
  flex-direction: column;
}

.diagnose-panel-title {
  font-size: 1.1em;
  font-weight: 600;
  color: #333;
  margin-top: 0;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
}

.ai-tag-diagnose {
  background-color: #5cb85c;
  color: white;
  font-size: 0.7em;
  padding: 3px 8px;
  border-radius: 4px;
  margin-left: 8px;
  font-weight: 500;
}

/* Upload Box Styles */
.upload-box {
  border: 2px dashed #e0e0e0;
  border-radius: 8px;
  padding: 30px;
  text-align: center;
  color: #888;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  /* Take available space in panel */
  min-height: 200px;
  /* Minimum height for drop area */
}

.upload-box:hover {
  border-color: #33a853;
}

.upload-box p {
  margin: 10px 0 5px 0;
  font-size: 1em;
  font-weight: 500;
  color: #555;
}

.upload-box span {
  font-size: 0.85em;
  margin-bottom: 15px;
}

.upload-button-diagnose {
  background-color: #f0f2f5;
  color: #555;
  border: 1px solid #ddd;
  padding: 10px 20px;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

.upload-button-diagnose:hover {
  background-color: #e0e0e0;
}

/* Image Preview Area */
.image-preview-area-diagnose {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  position: relative;
  padding: 15px;
  background-color: #f8f9fa;
  /* Light background for preview */
  border-radius: 8px;
}

.uploaded-image-preview-diagnose {
  max-width: 80%;
  max-height: 200px;
  /* Adjust as needed */
  border-radius: 8px;
  object-fit: contain;
  /* Changed from cover to contain for full image */
  margin-bottom: 10px;
  border: 1px solid #e0e0e0;
}

.image-name-diagnose {
  font-weight: 500;
  font-size: 0.9em;
  color: #333;
  margin: 5px 0 0 0;
}

.image-size-diagnose {
  font-size: 0.8em;
  color: #777;
  margin: 0;
}

.remove-image-button {
  position: absolute;
  top: 10px;
  right: 10px;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  cursor: pointer;
}

.remove-image-button:hover {
  background: rgba(0, 0, 0, 0.7);
}

/* Infection Details Card Styles */
.infection-details-card {
  flex-grow: 1;
  /* Take available space */
  display: flex;
  flex-direction: column;
}

.confidence-text,
.confidence-text-placeholder {
  font-size: 0.9em;
  color: #888;
  margin-bottom: 5px;
}

.ailment-name,
.ailment-name-placeholder {
  font-size: 2em;
  /* Mockup shows large ailment name */
  font-weight: 600;
  color: #333;
  margin: 0 0 10px 0;
}

.ailment-description,
.ailment-description-placeholder {
  font-size: 0.95em;
  color: #555;
  line-height: 1.6;
  margin-bottom: 20px;
  flex-grow: 1;
  /* Allow description to take space if suggestions are few */
}

.ailment-name-placeholder,
.ailment-description-placeholder {
  color: #ccc;
  /* Lighter color for placeholder text */
}

.confidence-text-placeholder {
  color: #ccc;
}

.suggestion-buttons-diagnose {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: auto;
  /* Pushes to bottom */
}

.suggestion-buttons-diagnose button {
  background-color: #f0f2f5;
  color: #555;
  border: 1px solid #ddd;
  padding: 8px 12px;
  border-radius: 16px;
  /* Pill shape */
  font-size: 0.85em;
  cursor: pointer;
  transition: background-color 0.2s;
}

.suggestion-buttons-diagnose button:hover {
  background-color: #e0e0e0;
}

.suggestion-buttons-diagnose.placeholder button {
  background-color: #f8f9fa;
  color: #aaa;
  border-color: #eee;
}

.ask-grow-buddy-button {
  border: 1px solid #33a853 !important;
  /* Green border */
  color: #33a853 !important;
  /* Green text */
  background-color: #e0f2e9 !important;
  /* Light green background */
}

.ask-grow-buddy-button:hover {
  background-color: #cce8d4 !important;
}

.ask-grow-buddy-button span {
  margin-right: 5px;
}

/* From The Web Panel Styles */
.diagnose-from-the-web-panel {
  background-color: #ffffff;
  border-radius: 12px;
  padding: 20px;
  box-shadow: none;
  display: flex;
  flex-direction: column;
}

.from-the-web-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  /* Add some space before content */
}

.from-the-web-header .diagnose-panel-title {
  margin-bottom: 0;
  /* Remove bottom margin as it's on header */
}

.external-link-button {
  background: none;
  border: none;
  cursor: pointer;
  color: #555;
  padding: 5px;
}

.external-link-button:hover {
  color: #33a853;
}

.external-link-button svg {
  display: block;
  /* Prevents extra space below icon */
}

.web-info-card {
  display: flex;
  gap: 20px;
}

.web-info-left {
  flex-basis: 200px;
  /* Fixed width for images column */
  flex-shrink: 0;
}

.web-info-images {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  gap: 10px;
}

.web-thumbnail {
  width: 100%;
  height: 80px;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid #eee;
}

.web-info-right {
  flex-grow: 1;
}

.web-info-right p {
  font-size: 0.9em;
  color: #555;
  line-height: 1.6;
  margin: 0 0 15px 0;
}

.web-info-right p:last-child {
  margin-bottom: 0;
}

.from-the-web-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #aaa;
  padding: 40px 20px;
  flex-grow: 1;
  min-height: 150px;
  /* Ensure some height for placeholder */
}

.from-the-web-placeholder svg {
  margin-bottom: 15px;
}

.from-the-web-placeholder p {
  font-size: 1em;
}

/* Yield Progress Section Specific Styles */
.yield-progress-section-container {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding: 25px;
  background-color: #ffffff;
  /* White background for this section */
  overflow-y: auto;
}

.yield-progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
  /* --- ADD THESE THREE LINES --- */
  position: relative;
  z-index: 20;
  /* Higher than any z-index on the timeline cards (which are ~10-12) */
  background-color: #ffffff;
  /* Ensures it's not transparent */
}

.yield-header-left {
  display: flex;
  align-items: center;
  gap: 20px;
}

.yield-back-button {
  background: none;
  border: none;
  font-size: 1em;
  font-weight: 500;
  color: #555;
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 0;
}

.yield-back-button .icon {
  font-size: 1.5em;
  margin-right: 8px;
}

.yield-status-text {
  font-size: 2.2em;
  /* Matches "Going great!" from dashboard card */
  font-weight: 600;
  color: #333;
  margin: 0;
}

.yield-crop-selector-container {
  display: flex;
  align-items: center;
  background-color: #f0f2f5;
  /* Light grey background for selector area */
  padding: 5px 10px;
  border-radius: 6px;
}

.yield-crop-icon {
  font-size: 1.2em;
  color: #33a853;
  /* Green icon */
  margin-right: 8px;
}

.yield-crop-selector {
  background: transparent;
  border: none;
  font-size: 1em;
  font-weight: 500;
  color: #333;
  cursor: pointer;
  outline: none;
  padding-right: 15px;
  /* Space for dropdown arrow */
}

/* Basic styling for select dropdown arrow if needed, browser default is often fine */
.yield-crop-selector {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23555555%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.4-12.8z%22%2F%3E%3C%2Fsvg%3E");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 0.65em auto;
  padding-right: 30px;
  /* Make room for arrow */
}

.yield-header-right {
  display: flex;
  gap: 10px;
}

.yield-edit-button,
.yield-new-crop-button {
  padding: 10px 18px;
  border-radius: 6px;
  font-size: 0.9em;
  font-weight: 500;
  cursor: pointer;
  border: none;
}

.yield-edit-button {
  background-color: #e0f2e9;
  /* Light green */
  color: #33a853;
}

.yield-edit-button:hover {
  background-color: #cce8d4;
}

.yield-new-crop-button {
  background-color: #33a853;
  /* Green */
  color: white;
}

.yield-new-crop-button:hover {
  background-color: #288c42;
}

/* Timeline Styles */
.yield-timeline-container {
  margin-bottom: 40px;
  /* Space above cards */
  padding: 20px 0;
}

/* Specific grid area assignments (if not handled by JS/data) */
/* This is handled by inline style `gridArea: stage.gridArea` in the JS */

/* Price Tracker Section Specific Styles */
.price-tracker-section-container {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding: 25px;
  background-color: #ffffff;
  /* White background for this section */
  overflow-y: auto;
}

.price-tracker-title {
  font-size: 1.4em;
  font-weight: 600;
  color: #333;
  margin: 0 0 20px 0;
}

.price-graph-container {
  background-color: #f8f9fa;
  /* Light background for graph area */
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 30px;
  position: relative;
  /* For predicted prices button */
  box-shadow: none;
}

.price-graph-top-legend {
  display: flex;
  gap: 20px;
  margin-bottom: 15px;
  padding-left: 40px;
  /* Align with graph start */
}

.top-legend-item {
  display: flex;
  align-items: center;
  font-size: 0.9em;
  color: #555;
}

/* .legend-color-dot is already defined, ensure it's suitable or make specific */
.legend-color-dot {
  /* Re-defining or ensuring for this context */
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-right: 8px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  /* Slight border for light colors */
}

.price-graph-svg {
  width: 100%;
  display: block;
  /* Remove extra space below SVG */
}

.graph-axis-label {
  font-size: 0.8em;
  fill: #777;
}

.graph-grid-line {
  stroke: #e0e0e0;
  stroke-dasharray: 2 2;
}

.graph-vertical-dashed-line {
  stroke: #cccccc;
  stroke-dasharray: 4 4;
  stroke-width: 1.5px;
}

.predicted-prices-button-graph {
  position: absolute;
  top: 20px;
  /* Adjust as per mockup */
  right: 30px;
  /* Adjust as per mockup */
  background-color: #e9ecef;
  color: #555;
  padding: 8px 12px;
  border-radius: 20px;
  font-size: 0.85em;
  cursor: pointer;
  border: none;
  display: flex;
  align-items: center;
}

.predicted-prices-button-graph .icon {
  margin-right: 6px;
  font-weight: bold;
}

/* Price Table Styles */
.price-table-container {
  width: 100%;
  overflow-x: auto;
  /* For smaller screens if table is too wide */
}

.price-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9em;
}

.price-table th,
.price-table td {
  padding: 12px 10px;
  text-align: left;
  border-bottom: 1px solid #f0f0f0;
  color: #555;
}

.price-table th {
  font-weight: 600;
  color: #333;
  font-size: 0.8em;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background-color: #f8f9fa;
  /* Light header for table */
}

.price-table tr:last-child td {
  border-bottom: none;
}

.price-table td:first-child {
  /* Legend column */
  padding-left: 15px;
}

.price-table th:first-child {
  padding-left: 15px;
}

.price-table td:nth-child(3),
/* Price Today */
.price-table td:nth-child(5),
/* Max Yearly */
.price-table td:nth-child(6) {
  /* Min Yearly */
  font-weight: 500;
}

.yield-progress-section-container {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding: 25px;
  background-color: #ffffff;
  overflow-y: auto;
}

/* Header styles (yield-progress-header, etc.) remain the same */
/* Timeline bar styles (yield-timeline-bar, yield-timeline-progress) remain the same */

/* NEW: The main wrapper for timeline, cards, and connectors */
.yield-timeline-wrapper {
  position: relative;
  width: 100%;
  margin: 180px 0;
  /* Provides vertical space for cards above and below */
  min-height: 100px;
  /* Ensures it has some height */
}

.yield-timeline-bar {
  width: 100%;
  height: 8px;
  background-color: #e9ecef;
  border-radius: 4px;
  position: absolute;
  /* Position it in the vertical center of the wrapper */
  top: 50%;
  transform: translateY(-50%);
}

.yield-timeline-progress {
  height: 100%;
  background-color: #5cb85c;
  border-radius: 4px;
  position: absolute;
  top: 0;
  left: 0;
}

/* NEW: Container for each node (marker, connector, card) */
.timeline-node-container {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  display: flex;
  justify-content: center;
}

.yield-timeline-marker {
  width: 20px;
  height: 20px;
  background-color: #e9ecef;
  border: 3px solid #ffffff;
  box-shadow: 0 0 0 2px #e9ecef;
  border-radius: 50%;
  position: absolute;
  /* Centered within the node container */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 12;
}

.yield-timeline-marker.completed {
  background-color: #5cb85c;
  box-shadow: 0 0 0 2px #5cb85c;
}

/* NEW: Wrapper for positioning the card and connector together */
.yield-stage-card-wrapper {
  position: absolute;
  width: 280px;
  /* Give cards a fixed width */
  left: 50%;
  transform: translateX(-50%);
  /* Center the card horizontally on the node */
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 11;
}

/* Logic for alternating placement */
.yield-stage-card-wrapper.position-bottom {
  top: 30px;
  /* Push below the marker */
}

.yield-stage-card-wrapper.position-top {
  bottom: 30px;
  /* Push above the marker */
  flex-direction: column-reverse;
  /* Flips order so connector is on bottom */
}

/* NEW: Connector line styling */
.dashed-connector-line {
  width: 2px;
  height: 30px;
  /* The distance from node to card */
  background-image: linear-gradient(to bottom, #ccc 50%, transparent 50%);
  background-size: 2px 8px;
}

/* CARD STYLES (Mostly unchanged, but ensure no grid properties) */
.yield-stage-card {
  width: 100%;
  /* Take full width of its wrapper */
  background-color: #f8f9fa;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  position: relative;
  text-align: left;
}

.yield-stage-card.missed {
  background-color: #fdecea;
}

.yield-stage-card.future {
  background-color: #e0f2e9;
}

.yield-stage-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.yield-stage-card-header h4 {
  margin: 0;
  font-size: 1.05em;
  font-weight: 600;
  color: #333;
}

.yield-stage-card-header span {
  font-size: 0.85em;
  color: #777;
  font-weight: 500;
}

.yield-stage-card p {
  font-size: 0.9em;
  color: #555;
  line-height: 1.5;
  margin: 0;
}

.milestone-item.missed {
  background-color: #fdecea;
}

.milestone-item.completed {
  /* This is the default state now, handled by .milestone-item */
  background-color: #f8f9fa;
}

.milestone-item.future {
  background-color: #e0f2e9;
}

.milestone-item h4 {
  margin: 0 0 5px 0;
  font-size: 0.9em;
  font-weight: 600;
}

.milestone-item p {
  font-size: 0.8em;
  color: #666;
  margin: 0;
  line-height: 1.4;
}

/* Plan Section Styles */
.plan-section-content {
  padding: 20px 0;
}

.section-description {
  text-align: center;
  color: #666;
  margin-bottom: 30px;
  font-size: 16px;
  line-height: 1.6;
}

.plan-options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 24px;
  margin-bottom: 30px;
}

.plan-option-card {
  background: white;
  border: 2px solid #e0e0e0;
  border-radius: 12px;
  padding: 24px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.plan-option-card:hover {
  border-color: #4CAF50;
  box-shadow: 0 4px 20px rgba(76, 175, 80, 0.15);
  transform: translateY(-2px);
}

.plan-option-card.selected {
  border-color: #4CAF50;
  background: rgba(76, 175, 80, 0.05);
  box-shadow: 0 4px 20px rgba(76, 175, 80, 0.2);
}

.option-icon {
  font-size: 48px;
  margin-bottom: 16px;
  opacity: 0.8;
  transition: all 0.3s ease;
}

.plan-option-card:hover .option-icon {
  opacity: 1;
  transform: scale(1.1);
}

.option-title {
  font-size: 22px;
  font-weight: 600;
  color: #333;
  margin: 0 0 12px 0;
  transition: color 0.3s ease;
}

.plan-option-card:hover .option-title {
  color: #4CAF50;
}

.option-description {
  color: #666;
  font-size: 14px;
  line-height: 1.5;
  margin: 0 0 20px 0;
}

.option-action {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  color: #4CAF50;
  font-weight: 500;
  font-size: 14px;
  opacity: 0.7;
  transition: opacity 0.3s ease;
}

.plan-option-card:hover .option-action {
  opacity: 1;
}

.plan-option-card.selected .option-action {
  color: #2e7d32;
  opacity: 1;
}

.selected-option-details {
  background: rgba(76, 175, 80, 0.1);
  border: 1px solid rgba(76, 175, 80, 0.3);
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  margin-top: 20px;
}

.selected-option-details h4 {
  color: #2e7d32;
  margin: 0 0 10px 0;
  font-size: 18px;
  font-weight: 600;
}

.selected-option-details p {
  color: #4CAF50;
  margin: 0;
  font-size: 14px;
}

/* Responsive design for plan section */
@media (max-width: 768px) {
  .plan-options-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }

  .plan-option-card {
    padding: 20px;
  }

  .option-icon {
    font-size: 40px;
  }

  .option-title {
    font-size: 20px;
  }
}

/* Plan Dialog Styles */
.plan-dialog-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
}

.plan-dialog {
  background: white;
  border-radius: 16px;
  width: 100%;
  max-width: 700px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.dialog-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24px;
  border-bottom: 2px solid #f0f0f0;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-radius: 16px 16px 0 0;
}

.dialog-header h3 {
  margin: 0;
  color: #333;
  font-size: 20px;
  font-weight: 600;
  display: flex;
  align-items: center;
}

.close-btn {
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: #666;
  padding: 8px;
  border-radius: 50%;
  transition: all 0.2s ease;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.close-btn:hover {
  background: rgba(0, 0, 0, 0.1);
  color: #333;
}

.dialog-content {
  padding: 24px;
}

.plan-form {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.form-description {
  text-align: center;
  color: #666;
  margin: 0 0 20px 0;
  font-size: 16px;
  line-height: 1.5;
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.input-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.input-group label {
  font-weight: 600;
  color: #333;
  font-size: 14px;
}

.input-group input,
.input-group select {
  padding: 12px 16px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  font-size: 14px;
  transition: border-color 0.3s ease;
  background: white;
}

.input-group input:focus,
.input-group select:focus {
  outline: none;
  border-color: #4CAF50;
  box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
}

.submit-plan-btn {
  padding: 16px 32px;
  background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin-top: 10px;
}

.submit-plan-btn:hover {
  background: linear-gradient(135deg, #45a049 0%, #3d8b40 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3);
}

/* Results Display Styles */
.results-display {
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.results-display h4 {
  color: #333;
  text-align: center;
  margin: 0 0 24px 0;
  font-size: 22px;
  font-weight: 600;
}

.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}

.result-card {
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  padding: 16px;
  border-radius: 8px;
  text-align: center;
  border: 1px solid #e0e0e0;
}

.result-card label {
  display: block;
  font-size: 12px;
  color: #666;
  font-weight: 600;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.result-card span {
  font-size: 18px;
  font-weight: 700;
  color: #333;
}

.result-card span.positive {
  color: #4CAF50;
}

.result-card span.negative {
  color: #f44336;
}

/* Crop Recommendations Styles */
.recommended-crops {
  margin-bottom: 24px;
}

.recommended-crops h5 {
  color: #333;
  margin: 0 0 16px 0;
  font-size: 16px;
  font-weight: 600;
}

.crop-recommendation {
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  border: 1px solid #2196F3;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 12px;
}

.crop-name {
  font-size: 18px;
  font-weight: 600;
  color: #1976d2;
  margin-bottom: 8px;
}

.crop-stats {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  font-size: 14px;
}

.crop-stats span {
  color: #333;
  font-weight: 500;
}

.environmental-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}

.stat-item {
  background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
  padding: 16px;
  border-radius: 8px;
  text-align: center;
  border: 1px solid #4CAF50;
}

.stat-item label {
  display: block;
  font-size: 12px;
  color: #2e7d32;
  font-weight: 600;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stat-item span {
  font-size: 18px;
  font-weight: 700;
  color: #1b5e20;
}

.close-results-btn {
  width: 100%;
  padding: 12px 24px;
  background: #666;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.close-results-btn:hover {
  background: #555;
}

/* Responsive dialog styles */
@media (max-width: 768px) {
  .plan-dialog {
    margin: 10px;
    max-width: none;
  }

  .form-grid {
    grid-template-columns: 1fr;
  }

  .results-grid {
    grid-template-columns: 1fr 1fr;
  }

  .crop-stats {
    flex-direction: column;
    gap: 8px;
  }

  .environmental-stats {
    grid-template-columns: 1fr;
  }
}